1    dm 'log; clear; output; clear;'; /* clear log and output */
2    /*
3    ___________________________________________________________________________
4
5        Filename                :   DummyDataCreator.SAS
6
7        Date created            :   11/07/2017
8
9        Last amended            :
10
11       Trial                   :   N/A
12
13       Analysis                :   N/A
14
15       Purpose Of Program      :   To create dummy data for the EudraCT validation process
16
17       Directory               :   P:\CTRU\Stats\Programming\SAS\Eudract\Validation\SASprogs
18
19       Statistician            :   Kara-Louise Royle
20
21       SAS version             :
22
23       Datasets created        :
24
25       Output files            :
26
27       Reviewed by             :
28
29       Date reviewed           :
30   ___________________________________________________________________________
31   */
32
33   * Specifying different librarys for the different dummy datasets so they can all be tracked;
34   libname Dummy "P:\CTRU\Stats\Programming\SAS\Eudract\Validation\SASdata\Dummy";
NOTE: Libref DUMMY was successfully assigned as follows:
      Engine:        V9
      Physical Name: P:\CTRU\Stats\Programming\SAS\Eudract\Validation\SASdata\Dummy
35   libname A "P:\CTRU\Stats\Programming\SAS\Eudract\Validation\SASdata\ScenarioA";
NOTE: Libref A was successfully assigned as follows:
      Engine:        V9
      Physical Name: P:\CTRU\Stats\Programming\SAS\Eudract\Validation\SASdata\ScenarioA
36   libname B "P:\CTRU\Stats\Programming\SAS\Eudract\Validation\SASdata\ScenarioB";
NOTE: Libref B was successfully assigned as follows:
      Engine:        V9
      Physical Name: P:\CTRU\Stats\Programming\SAS\Eudract\Validation\SASdata\ScenarioB
37   libname C "P:\CTRU\Stats\Programming\SAS\Eudract\Validation\SASdata\ScenarioC";
NOTE: Libref C was successfully assigned as follows:
      Engine:        V9
      Physical Name: P:\CTRU\Stats\Programming\SAS\Eudract\Validation\SASdata\ScenarioC
38   libname D "P:\CTRU\Stats\Programming\SAS\Eudract\Validation\SASdata\ScenarioD";
NOTE: Libref D was successfully assigned as follows:
      Engine:        V9
      Physical Name: P:\CTRU\Stats\Programming\SAS\Eudract\Validation\SASdata\ScenarioD
39   libname E "P:\CTRU\Stats\Programming\SAS\Eudract\Validation\SASdata\ScenarioE";
NOTE: Libref E was successfully assigned as follows:
      Engine:        V9
      Physical Name: P:\CTRU\Stats\Programming\SAS\Eudract\Validation\SASdata\ScenarioE
40   libname F "P:\CTRU\Stats\Programming\SAS\Eudract\Validation\SASdata\ScenarioF";
NOTE: Libref F was successfully assigned as follows:
      Engine:        V9
      Physical Name: P:\CTRU\Stats\Programming\SAS\Eudract\Validation\SASdata\ScenarioF
41   libname G "P:\CTRU\Stats\Programming\SAS\Eudract\Validation\SASdata\ScenarioG";
NOTE: Libref G was successfully assigned as follows:
      Engine:        V9
      Physical Name: P:\CTRU\Stats\Programming\SAS\Eudract\Validation\SASdata\ScenarioG
42   libname H "P:\CTRU\Stats\Programming\SAS\Eudract\Validation\SASdata\ScenarioH";
NOTE: Libref H was successfully assigned as follows:
      Engine:        V9
      Physical Name: P:\CTRU\Stats\Programming\SAS\Eudract\Validation\SASdata\ScenarioH
43   libname Upload "P:\CTRU\Stats\Programming\SAS\Eudract\Validation\SASdata\Upload";
NOTE: Libref UPLOAD was successfully assigned as follows:
      Engine:        V9
      Physical Name: P:\CTRU\Stats\Programming\SAS\Eudract\Validation\SASdata\Upload
44
45   /* Creating the different datasets */
46
47   /* Obtaining master CTCAE so we have correct terms for AE and SAE datasets */
48   proc import out= WORK.ctcae
49               datafile="P:\CTRU\Stats\Programming\SAS\Eudract\Validation\Rdata\CTCAE_4.03_2010-
49 ! 06-14.xlsx"
50               dbms=XLSX REPLACE;
51               getnames=yes;
52   RUN;

NOTE:    Variable Name Change.  MedDRA v12.0 Code -> MedDRA_v12_0_Code
NOTE:    Variable Name Change.  CTCAE v4.0 SOC -> CTCAE_v4_0_SOC
NOTE:    Variable Name Change.  CTCAE v4.0 Term -> CTCAE_v4_0_Term
NOTE:    Variable Name Change.  Grade 1    -> Grade_1___
NOTE:    Variable Name Change.  Grade 2    -> Grade_2___
NOTE:    Variable Name Change.  Grade 3    -> Grade_3___
NOTE:    Variable Name Change.  Grade 4    -> Grade_4___
NOTE:    Variable Name Change.  Grade 5    -> Grade_5___
NOTE:    Variable Name Change.  CTCAE v4.0 AE Term Definition -> CTCAE_v4_0_AE_Term_Definition
NOTE: The import data set has 790 observations and 10 variables.
NOTE: WORK.CTCAE data set was successfully created.
NOTE: PROCEDURE IMPORT used (Total process time):
      real time           0.13 seconds
      cpu time            0.11 seconds


53
54   /* Randomly choosing ten events for both the AE and SAE dataset */
55
56   proc surveyselect data = ctcae method = SRS rep = 1
57     sampsize = 10 seed = 1707111 out = sae_dummy(rename=(CTCAE_v4_0_SOC=SOC
57 ! CTCAE_v4_0_Term=term) drop=replicate);
58     id CTCAE_v4_0_SOC CTCAE_v4_0_Term;
59   run;

NOTE: Writing HTML Body file: sashtml.htm
NOTE: The data set WORK.SAE_DUMMY has 10 observations and 2 variables.
NOTE: PROCEDURE SURVEYSELECT used (Total process time):
      real time           0.52 seconds
      cpu time            0.29 seconds


60
61   proc surveyselect data = ctcae method = SRS rep = 1
62     sampsize = 10 seed = 1707112 out = ae_dummy(rename=(CTCAE_v4_0_SOC=SOC
62 ! CTCAE_v4_0_Term=term) drop=replicate);
63     id CTCAE_v4_0_SOC CTCAE_v4_0_Term;
64   run;

NOTE: The data set WORK.AE_DUMMY has 10 observations and 2 variables.
NOTE: PROCEDURE SURVEYSELECT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds


65
66   proc print data=sae_dummy noobs;
67       run;

NOTE: There were 10 observations read from the data set WORK.SAE_DUMMY.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds


68
69   proc print data=ae_dummy noobs;
70       run;

NOTE: There were 10 observations read from the data set WORK.AE_DUMMY.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds


71
72   /* Choosing 26 distinct SOC */
73   proc sort data=ctcae out=SOC_all;
74       by CTCAE_v4_0_SOC;
75   run;

NOTE: There were 790 observations read from the data set WORK.CTCAE.
NOTE: The data set WORK.SOC_ALL has 790 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds


76
77   data SOC_distinct(keep=CTCAE_v4_0_SOC CTCAE_v4_0_Term);
78       set SOC_all;
79       by CTCAE_v4_0_SOC;
80       if first.CTCAE_v4_0_SOC;
81   run;

NOTE: There were 790 observations read from the data set WORK.SOC_ALL.
NOTE: The data set WORK.SOC_DISTINCT has 26 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds


82
83   proc print data=SOC_distinct noobs;
84       run;

NOTE: There were 26 observations read from the data set WORK.SOC_DISTINCT.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds


85
86
87   /* Importing the Dummy data */
88
89   /* EudraCT Groups */
90   proc import out=work.EudractGrpsPre
91               datafile="P:\CTRU\Stats\Programming\SAS\Eudract\Validation\Rdata\DummyCorrect.xls
91 ! x"
92               dbms=XLSX REPLACE;
93               getnames=yes;
94               sheet = "EudractGrps";
95   run;

NOTE: The import data set has 2 observations and 8 variables.
NOTE: WORK.EUDRACTGRPSPRE data set was successfully created.
NOTE: PROCEDURE IMPORT used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds


96   *Correcting the lengths;
97   data EudractGrps;
98       length id $ 62 desc $ 999;
99       set EudractGrpsPre;
100  run;

NOTE: There were 2 observations read from the data set WORK.EUDRACTGRPSPRE.
NOTE: The data set WORK.EUDRACTGRPS has 2 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds


101
102  /* EudraCT SAE */
103  proc import out=work.EudractSAEPre
104              datafile="P:\CTRU\Stats\Programming\SAS\Eudract\Validation\Rdata\DummyCorrect.xls
104! x"
105              dbms=XLSX REPLACE;
106              getnames=yes;
107              sheet = "EudractSAE";
108  run;

NOTE: The import data set has 20 observations and 10 variables.
NOTE: WORK.EUDRACTSAEPRE data set was successfully created.
NOTE: PROCEDURE IMPORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds


109  *Correcting the lengths;
110  data EudractSAE;
111      length SOC $ 100 term $ 100 desc $ 250;
112      set EudractSAEPre;
113  run;

NOTE: There were 20 observations read from the data set WORK.EUDRACTSAEPRE.
NOTE: The data set WORK.EUDRACTSAE has 20 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds


114  /* EudraCT AE */
115  proc import out=work.EudractAEPre
116              datafile="P:\CTRU\Stats\Programming\SAS\Eudract\Validation\Rdata\DummyCorrect.xls
116! x"
117              dbms=XLSX REPLACE;
118              getnames=yes;
119              sheet = "EudractAE";
120  run;

NOTE: The import data set has 20 observations and 7 variables.
NOTE: WORK.EUDRACTAEPRE data set was successfully created.
NOTE: PROCEDURE IMPORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds


121  *Correcting the lengths;
122  data EudractAE;
123      length SOC $ 100 term $ 100 desc $ 250;
124      set EudractAEPre;
125  run;

NOTE: There were 20 observations read from the data set WORK.EUDRACTAEPRE.
NOTE: The data set WORK.EUDRACTAE has 20 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds


126
127  /* Checking the data is in the right form as per guideline */
128  proc contents data=EudractGrps;
129      run;

NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.05 seconds
      cpu time            0.01 seconds


130
131  proc contents data=EudractSAE;
132      run;

NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds


133
134  proc contents data=EudractAE;
135      run;

NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds


136
137  /* Removing the formats & labels which were made as a result of importing data from excel */
138  proc datasets lib=work;
                                            Directory

    Libref         WORK
    Engine         V9
    Physical Name  C:\Users\medkroy\AppData\Local\Temp\SAS Temporary Files\_TD8132_CTU-PC109_
    Filename       C:\Users\medkroy\AppData\Local\Temp\SAS Temporary Files\_TD8132_CTU-PC109_


                                  Member
               #  Name            Type       File Size  Last Modified

               1  AE_DUMMY        DATA           128KB  12/07/2017 16:11:07
               2  CTCAE           DATA             2MB  12/07/2017 16:11:06
               3  EUDRACTAE       DATA           128KB  12/07/2017 16:11:07
               4  EUDRACTAEPRE    DATA           128KB  12/07/2017 16:11:07
               5  EUDRACTGRPS     DATA           176KB  12/07/2017 16:11:07
               6  EUDRACTGRPSPRE  DATA           128KB  12/07/2017 16:11:07
               7  EUDRACTSAE      DATA           128KB  12/07/2017 16:11:07
               8  EUDRACTSAEPRE   DATA           128KB  12/07/2017 16:11:07
               9  SAE_DUMMY       DATA           128KB  12/07/2017 16:11:07
              10  SOC_ALL         DATA             2MB  12/07/2017 16:11:07
              11  SOC_DISTINCT    DATA           128KB  12/07/2017 16:11:07
139  modify EudractGrps;
NOTE: MODIFY was successful for WORK.EUDRACTGRPS.DATA.
140  format _all_;
141  informat _all_;
142  attrib _all_ label='';
143  modify EudractAE;
NOTE: MODIFY was successful for WORK.EUDRACTAE.DATA.
144  format _all_;
145  informat _all_;
146  attrib _all_ label='';
147  modify EudractSAE;
148  format _all_;
149  informat _all_;
150  attrib _all_ label='';
151  run;

NOTE: MODIFY was successful for WORK.EUDRACTSAE.DATA.
152  quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.09 seconds
      cpu time            0.04 seconds


153
154  /* Saving the correct dummy data */
155  data dummy.EudractGrps;
156      set EudractGrps;
157  run;

NOTE: There were 2 observations read from the data set WORK.EUDRACTGRPS.
NOTE: The data set DUMMY.EUDRACTGRPS has 2 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.11 seconds
      cpu time            0.04 seconds


158  data dummy.EudractSAE;
159      set EudractSAE;
160  run;

NOTE: There were 20 observations read from the data set WORK.EUDRACTSAE.
NOTE: The data set DUMMY.EUDRACTSAE has 20 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.12 seconds
      cpu time            0.06 seconds


161  data dummy.EudractAE;
162      set EudractAE;
163  run;

NOTE: There were 20 observations read from the data set WORK.EUDRACTAE.
NOTE: The data set DUMMY.EUDRACTAE has 20 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.10 seconds
      cpu time            0.01 seconds


164
165  /* Removing datasets so we don't get confused calling things the same name */
166  proc datasets nolist memtype=data lib=work kill;
NOTE: Deleting WORK.AE_DUMMY (memtype=DATA).
NOTE: Deleting WORK.CTCAE (memtype=DATA).
NOTE: Deleting WORK.EUDRACTAE (memtype=DATA).
NOTE: Deleting WORK.EUDRACTAEPRE (memtype=DATA).
NOTE: Deleting WORK.EUDRACTGRPS (memtype=DATA).
NOTE: Deleting WORK.EUDRACTGRPSPRE (memtype=DATA).
NOTE: Deleting WORK.EUDRACTSAE (memtype=DATA).
NOTE: Deleting WORK.EUDRACTSAEPRE (memtype=DATA).
NOTE: Deleting WORK.SAE_DUMMY (memtype=DATA).
NOTE: Deleting WORK.SOC_ALL (memtype=DATA).
NOTE: Deleting WORK.SOC_DISTINCT (memtype=DATA).
167  run;

168  quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds


169
170  /* Scenario A - Each dataset contains only variables with the correct names, variable types,
170! lengths and formats as specified in documentation " */
171
172  data A.EudractGrps(drop=x);
173      *length is supposed to be 62;
174      length id $ 500;
175      set dummy.EudractGrps(rename=(deathae=x));
176      *idn is correct term;
177      rename idn=ifn;
178      *deathae is supposed to be numeric;
179      deathae = put(x, 8.);
180      *No formats should be on the data;
181      format death best4.;
182      *No labels should be on the data;
183      label patn = "Number of patients in safety population";
184  run;

NOTE: There were 2 observations read from the data set DUMMY.EUDRACTGRPS.
NOTE: The data set A.EUDRACTGRPS has 2 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.12 seconds
      cpu time            0.01 seconds


185
186  data A.EudractAE(drop=z);
187      *length is supposed to be 250.;
188      length desc $ 10;
189      set dummy.EudractAE(rename=(Asstype=z));
190      *patsn is correct term;
191      rename patsn = patn;
192      *Asstype is supposed to be numeric;
193      Asstype = put(z,3.);
194      *No variable is supposed to have a format;
195      format term $100.;
196      *No variable should have a label;
197      label occur="Number of occurences";
198  run;

WARNING: Multiple lengths were specified for the variable desc by input data set(s). This can
         cause truncation of data.
NOTE: There were 20 observations read from the data set DUMMY.EUDRACTAE.
NOTE: The data set A.EUDRACTAE has 20 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.11 seconds
      cpu time            0.06 seconds


199
200  data A.EudractSAE(drop=y);
201      *length is supposed to be 100.;
202      length SOC $ 50;
203      set dummy.EudractSAE(rename=(patsn=y));
204      *occur is the correct term;
205      rename occur = occurance;
206      *patsn is supposed to be numeric;
207      patsn=put(y,5.);
208      *No variable should have a format;
209      format SOC $100.;
210      *No variable should have a label;
211      label Asstype="Assessment Type";
212  run;

WARNING: Multiple lengths were specified for the variable SOC by input data set(s). This can
         cause truncation of data.
NOTE: There were 20 observations read from the data set DUMMY.EUDRACTSAE.
NOTE: The data set A.EUDRACTSAE has 20 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.10 seconds
      cpu time            0.07 seconds


213
214  /* Scenario B: For required fields in the Eudract system each dataset contains no missing
214! data. */
215
216  data B.EudractGrps;
217      set dummy.EudractGrps;
218      *Changing all the required values to have a missing value;
219      if idn = 1 then idn = . ;
220      if id="Group 2" then id = "";
221      if idn=2 then patn = .;
222      if id="Group 1" then patae = . ;
223      if idn = 2 then patsae = .;
224      if id="Group 1" then death = .;
225  run;

NOTE: There were 2 observations read from the data set DUMMY.EUDRACTGRPS.
NOTE: The data set B.EUDRACTGRPS has 2 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.12 seconds
      cpu time            0.04 seconds


226
227  data B.EudractAE;
228      set dummy.EudractAE;
229      *Changing all the required values to have a missing value;
230      if idn = 1 and patsn = 113 then idn = .;
231      if SOC = "Nervous system disorders" then SOC = "";
232      if term = "Lung infection" then term="";
233      if idn = 2 and patsn = 130 then Asstype = .;
234      if patsn = 115 then patsn = .;
235      if occur = 152 then occur = .;
236  run;

NOTE: There were 20 observations read from the data set DUMMY.EUDRACTAE.
NOTE: The data set B.EUDRACTAE has 20 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.11 seconds
      cpu time            0.03 seconds


237
238  data B.EudractSAE;
239      set dummy.EudractSAE;
240      *Changing all required values to have a missing value;
241      if idn = 2 and patsn=30 then idn = .;
242      if SOC = "Psychiatric disorders" then SOC = "";
243      if term = "Fall" then term = "";
244      if idn = 1 and patsn=15 then Asstype = .;
245      if patsn = 22 then patsn = .;
246      if occur =43 then occur=.;
247      if Occurtrt = 66then occurtrt=.;
248      if death = 73then death=.;
249      if deathtrt = 96 then deathtrt=.;
250  run;

NOTE: There were 20 observations read from the data set DUMMY.EUDRACTSAE.
NOTE: The data set B.EUDRACTSAE has 20 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.15 seconds
      cpu time            0.03 seconds


251
252  /* Scenario C: Each SOC entry in the EudractAE and EudractSAE maps to a EUTTC number   */
253  data C.EudractGrps;
254      set Dummy.EudractGrps;
255  run;

NOTE: There were 2 observations read from the data set DUMMY.EUDRACTGRPS.
NOTE: The data set C.EUDRACTGRPS has 2 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.09 seconds
      cpu time            0.06 seconds


256
257  data C.EudractAE;
258      set Dummy.EudractAE;
259      *Adding a typo so they won't match up;
260      if SOC="Ear and labyrinth disorders" then SOC = "Ear and labirinth disorders";
261  run;

NOTE: There were 20 observations read from the data set DUMMY.EUDRACTAE.
NOTE: The data set C.EUDRACTAE has 20 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.11 seconds
      cpu time            0.06 seconds


262
263  data C.EudractSAE;
264      set Dummy.EudractSAE;
265      *Adding a typo so they won't match up;
266      if SOC = "Renal and urinary disorders" then SOC = "Renel and urinary disorders";
267  run;

NOTE: There were 20 observations read from the data set DUMMY.EUDRACTSAE.
NOTE: The data set C.EUDRACTSAE has 20 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.09 seconds
      cpu time            0.01 seconds


268
269  /* Scenario D: A unique IDN is specified for each entry in the EudractGrps dataset */
270  data D.EudractGrps;
271      set Dummy.EudractGrps;
272      *Making IDN the same for both groups;
273      IDN = 3;
274  run;

NOTE: There were 2 observations read from the data set DUMMY.EUDRACTGRPS.
NOTE: The data set D.EUDRACTGRPS has 2 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.10 seconds
      cpu time            0.01 seconds


275
276  data D.EudractAE;
277      set Dummy.EudractAE;
278  run;

NOTE: There were 20 observations read from the data set DUMMY.EUDRACTAE.
NOTE: The data set D.EUDRACTAE has 20 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.10 seconds
      cpu time            0.03 seconds


279
280  data D.EudractSAE;
281      set Dummy.EudractSAE;
282  run;

NOTE: There were 20 observations read from the data set DUMMY.EUDRACTSAE.
NOTE: The data set D.EUDRACTSAE has 20 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.12 seconds
      cpu time            0.04 seconds


283
284  /* Scenario E: Check to see that the IDN terms defined in the EudractGrps are in both AE and
284! SAE datasets */
285  data E.EudractGrps;
286      set Dummy.EudractGrps;
287  run;

NOTE: There were 2 observations read from the data set DUMMY.EUDRACTGRPS.
NOTE: The data set E.EUDRACTGRPS has 2 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.08 seconds
      cpu time            0.03 seconds


288
289  data E.EudractAE;
290      set Dummy.EudractAE;
291      *Setting a defined IDN to missing a renaming an IDN to something not defined. ;
292      if IDN = 2 then IDN = .;
293      if IDN = 1 and patsn = 121 then IDN = 3;
294  run;

NOTE: There were 20 observations read from the data set DUMMY.EUDRACTAE.
NOTE: The data set E.EUDRACTAE has 20 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.12 seconds
      cpu time            0.01 seconds


295
296  data E.EudractSAE;
297      set Dummy.EudractSAE;
298      *Setting a defined IDN to missing a renaming an IDN to something not defined. ;
299      if IDN = 2 then IDN = .;
300      if IDN = 1 and patsn = 20 then IDN = 3;
301  run;

NOTE: There were 20 observations read from the data set DUMMY.EUDRACTSAE.
NOTE: The data set E.EUDRACTSAE has 20 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.12 seconds
      cpu time            0.04 seconds


302
303  /* Scenario F: Each unique event term in EudractAE and EudractSAE datasets has one entry for
303! each of the groups defined in the EudractGrps dataset */
304  data F.EudractGrps;
305      set Dummy.EudractGrps;
306  run;

NOTE: There were 2 observations read from the data set DUMMY.EUDRACTGRPS.
NOTE: The data set F.EUDRACTGRPS has 2 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.08 seconds
      cpu time            0.03 seconds


307
308  data F.EudractAE;
309      set Dummy.EudractAE;
310      *Removing one AE term row from the second group and adding a duplicate;
311      if term="Anorectal infection" and idn=2 then do;
312              term="Capillary leak syndrome";
313              SOC = "Vascular disorders";
314          end;
315  run;

NOTE: There were 20 observations read from the data set DUMMY.EUDRACTAE.
NOTE: The data set F.EUDRACTAE has 20 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.08 seconds
      cpu time            0.06 seconds


316
317  data F.EudractSAE;
318      set Dummy.EudractSAE;
319      *Removing one SAE term row from the first group and adding a duplicate;
320      if term="Dysgeusia" and idn=1 then do;
321          term="Hemorrhoids";
322          SOC="Gastrointestinal disorders";
323      end;
324  run;

NOTE: There were 20 observations read from the data set DUMMY.EUDRACTSAE.
NOTE: The data set F.EUDRACTSAE has 20 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.09 seconds
      cpu time            0.04 seconds


325
326  /* Scenario G: Each Asstype entry in the EudractAE and EudractSAE datasets is either 1 or 2
326! */
327  data G.EudractGrps;
328      set Dummy.EudractGrps;
329  run;

NOTE: There were 2 observations read from the data set DUMMY.EUDRACTGRPS.
NOTE: The data set G.EUDRACTGRPS has 2 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.08 seconds
      cpu time            0.06 seconds


330
331  data G.EudractAE;
332      set Dummy.EudractAE;
333      *Changing one Asstype to not be 1 or 2;
334      if term="Anorectal infection" and idn=2 then AssType=3;
335  run;

NOTE: There were 20 observations read from the data set DUMMY.EUDRACTAE.
NOTE: The data set G.EUDRACTAE has 20 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.10 seconds
      cpu time            0.04 seconds


336
337  data G.EudractSAE;
338      set Dummy.EudractSAE;
339      *Changing one Asstype to not be 1 or 2;
340      if term="Dysgeusia" and idn=1 then AssType=-1;
341  run;

NOTE: There were 20 observations read from the data set DUMMY.EUDRACTSAE.
NOTE: The data set G.EUDRACTSAE has 20 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.07 seconds
      cpu time            0.06 seconds


342
343  /* Scenario H: Are no warnings fired if the AE dataset is empty? */
344  data H.EudractGrps;
345      set Dummy.EudractGrps;
346  run;

NOTE: There were 2 observations read from the data set DUMMY.EUDRACTGRPS.
NOTE: The data set H.EUDRACTGRPS has 2 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.08 seconds
      cpu time            0.03 seconds


347  *Creating an empty AE dataset;
348  data H.EudractAE;
349  length soc $100 term $100 desc $250;
350  call missing(idn,soc,term,desc,Asstype,patsn,occur);
351  if _N_ = 0 then output;
352  stop;
353  run;

NOTE: The data set H.EUDRACTAE has 0 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.00 seconds


354
355  data H.EudractSAE;
356      set Dummy.EudractSAE;
357  run;

NOTE: There were 20 observations read from the data set DUMMY.EUDRACTSAE.
NOTE: The data set H.EUDRACTSAE has 20 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds


358
359  /* Upload: If present are all the SOC numbers matched accross correctly? */
360  data Upload.EudractGrps;
361      set Dummy.EudractGrps;
362  run;

NOTE: There were 2 observations read from the data set DUMMY.EUDRACTGRPS.
NOTE: The data set UPLOAD.EUDRACTGRPS has 2 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.03 seconds


363  data Upload.EudractAE;
364      set Dummy.EudractAE;
365  run;

NOTE: There were 20 observations read from the data set DUMMY.EUDRACTAE.
NOTE: The data set UPLOAD.EUDRACTAE has 20 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds


366  proc import out=work.EudractSAEPre
367              datafile="P:\CTRU\Stats\Programming\SAS\Eudract\Validation\Rdata\SOCDistinct.xlsx
367! "
368              dbms=XLSX REPLACE;
369              getnames=yes;
370  run;

NOTE: The import data set has 52 observations and 10 variables.
NOTE: WORK.EUDRACTSAEPRE data set was successfully created.
NOTE: PROCEDURE IMPORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds


371  *Correcting the lengths;
372  data EudractSAE;
373      length SOC $ 100 term $ 100 desc $ 250;
374      set EudractSAEPre;
375  run;

NOTE: There were 52 observations read from the data set WORK.EUDRACTSAEPRE.
NOTE: The data set WORK.EUDRACTSAE has 52 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds


376  proc datasets lib=work;
                                            Directory

    Libref         WORK
    Engine         V9
    Physical Name  C:\Users\medkroy\AppData\Local\Temp\SAS Temporary Files\_TD8132_CTU-PC109_
    Filename       C:\Users\medkroy\AppData\Local\Temp\SAS Temporary Files\_TD8132_CTU-PC109_


                                 Member
               #  Name           Type       File Size  Last Modified

               1  EUDRACTSAE     DATA           128KB  12/07/2017 16:11:11
               2  EUDRACTSAEPRE  DATA           128KB  12/07/2017 16:11:11
377  modify EudractSAE;
378  format _all_;
379  informat _all_;
380  attrib _all_ label='';
381  run;

NOTE: MODIFY was successful for WORK.EUDRACTSAE.DATA.
382  quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds


383
384  data Upload.EudractSAE;
385      set EudractSAE;
386  run;

NOTE: There were 52 observations read from the data set WORK.EUDRACTSAE.
NOTE: The data set UPLOAD.EUDRACTSAE has 52 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.00 seconds


387
388  /* End of Program */

